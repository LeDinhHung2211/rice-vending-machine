<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Measure Rice Machine</title>
    <link rel="stylesheet" href="style.css">
    <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">  -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.js" type="text/javascript"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.2.0/chart.min.js"> </script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://kit.fontawesome.com/b7f0c56a4e.js" crossorigin="anonymous"></script>
    <script src="script.js"></script>

</head>
<body> 
    

    <div id="header">
        <!-- Begin nav -->
        <ul id="nav">
            <li><a onclick="memberFunction()"><i class="fa-solid fa-user"></i> Member </a></li>
            <li><a onclick="configFunction()"><i class="fa-solid fa-sliders"></i> Config </a></li>
            <li><a onclick="chartFunction()"><i class="fa-solid fa-chart-line"> </i>Analysis</a></li>
            <li><a href="add_danhsach.php"><i class="fa-solid fa-list"></i>Danhsach</a></li>
            <li><a onclick="aboutFunction()"><i class="fa-solid fa-circle-info"></i> About </a></li>
        </ul>


    </div>
    <script>
        function configFunction(){
            const element = document.getElementById("form");
            element.scrollIntoView({  block: 'center' });
        }

        function aboutFunction(){
            const element = document.getElementById("about");
            element.scrollIntoView({ block: 'center' });
        }

        function chartFunction(){
            const element = document.getElementById("display_chart");
            element.scrollIntoView({block: 'center' });
        }

        function memberFunction(){
            const element = document.getElementById("member");
            element.scrollIntoView({block: 'center' });
        }
    </script>
    
<!-- end nav -->

<!-- About -->

<h1 class="title_about">MEASURE RICE MACHINE</h1>
<div class="slider" id="about" >
    <!-- <h1 class="title_about">MAY DONG GAO</h1> -->
    <div class="slides">
      <!--radio buttons start-->
      <input type="radio" name="radio-btn" id="radio1">
      <input type="radio" name="radio-btn" id="radio2">
      <input type="radio" name="radio-btn" id="radio3">
      <input type="radio" name="radio-btn" id="radio4">
      <!--radio buttons end-->
      <!--slide images start-->
      <div class="slide first">
        <img src="/image/img1.jpg" alt="">
      </div>
      <div class="slide">
        <img src="/image/img2.jpg" alt="">
      </div>
      <div class="slide">
        <img src="/image/img3.jpg" alt="">
      </div>
      <div class="slide">
        <img src="/image/img4.jpg" alt="">
      </div>
      <!--slide images end-->
      <!--automatic navigation start-->
      <div class="navigation-auto">
        <div class="auto-btn1"></div>
        <div class="auto-btn2"></div>
        <div class="auto-btn3"></div>
        <div class="auto-btn4"></div>
      </div>
      <!--automatic navigation end-->
    </div>
    <!--manual navigation start-->
    <div class="navigation-manual">
      <label for="radio1" class="manual-btn"></label>
      <label for="radio2" class="manual-btn"></label>
      <label for="radio3" class="manual-btn"></label>
      <label for="radio4" class="manual-btn"></label>
    </div>
    <!--manual navigation end-->
  </div>
  <!--image slider end-->

  <script type="text/javascript">
  var counter = 1;
  setInterval(function(){
    document.getElementById('radio' + counter).checked = true;
    counter++;
    if(counter > 4){
      counter = 1;
    }
  }, 5000);
  </script>

<!-- EndAbout -->
    
<!-- Member -->
<div id="member">
    <h1 >OUR TEAM</h1>
    <div class="row">
        <div class="column">
        <div class="card">
            <img src="\image\dinhhung.jpg"  style="width:100%" class="img_member">
            <div class="container">
            <h2>Lê Đình Hùng</h2>
            <p class="title">19146016</p>
            <p>hungle22112001@gmail.com</p>
            </div>
        </div>
        </div>
    
        <div class="column">
        <div class="card">
            <img src="bahuy.jpg"  style="width:100%" class="img_member">
            <div class="container">
            <h2>Nguyễn Bá Huy</h2>
            <p class="title">19146194</p>
            <p>huyn0995789648@gmail.com</p>
            </div>
        </div>
        </div>
        
        <div class="column">
        <div class="card">
            <img src="\image\thanhtan.jpg"  style="width:100%" class="img_member">
            <div class="container">
            <h2>Trần Thanh Tân</h2>
            <p class="title">19146259</p>
            <p>tantran301201@gmail.com</p>
            </div>
        </div>
        </div>
    </div>
</div>
<!-- end Member -->

        <!------------CONFIG ------------->
    <h2 class="config" >SET UP VALUE</h2>
    <div class="main"  >    
        <form id="form">
            <div class="form-group"> 
                <label class="name" style="color:green ;">Green Box </label>
                <input id="green_id" class="green" type="number" name="green1" class="form-control" required placeholder="Enter your value">
                <label class="donvi">mg/box </label>
            </div>    
            <div class="form-group">
                <label class="name" style="color:white ;">White Box</label>
                <input id="white_id" class="white" name="white1" type="number" class="form-control" required placeholder="Enter your value">
                <label class="donvi">mg/box </label>

            </div>
            <div class="form-group">
                <label class="name" style="color:yellow ;">Others</label>
                <input id="others_id" class="others" name="others1" type="number" class="form-control" required placeholder="Enter your value">
                <label class="donvi">mg/box </label>

            </div>

            <div class="form-group">
                <button class="button" type="submit" onclick="publish_client1();">UPDATE</button>

            </div>
            <div class="old_config flex">
                <div class="box old_greenConfig"></div>
                <div class="box" id="oldGreen"></div>
                <div class="donvi_1">mg/box</div>
                <div class="box old_whiteConfig"></div>
                <div class="box" id="oldWhite"></div>
                <div class="donvi_1">mg/box</div>
                <div class="box old_othersConfig"></div>
                <div class="box" id="oldOthers"></div>
                <div class="donvi_1">mg/box</div>
            </div>
                <!-- update data -->
            <script>
                $(document).ready(function(){
                    updateTable();
                });
                setInterval(updateTable,1000);
                function updateTable(){
                    //yeu cau server 
                    $.post("readData_config.php",
                    function(data){
                        var green = data[0].green;
                        var white = data[0].white;
                        var others = data[0].others;
                        document.getElementById("oldGreen").innerHTML= green;
                        document.getElementById("oldWhite").innerHTML= white;
                        document.getElementById("oldOthers").innerHTML= others;

                    })
                }
            </script>

        </form> 
        <script>

            $(document).ready(function(){
                //code xu ly form
                $(document).on('submit','#form',function(){
                    $.post("addData_config.php",$('#form').serialize(), function(){
                        alert("data sent")
                    });
                    return false;
                });

                $(document).on('submit','#ax_test',function(){
                    $.post("addData_config.php", function(){
                        alert("abc")
                    });
                    return false;
                });
                
                
            });
        </script>

    
    </div>


    <!-- END_CONFIG -->

    
    <!-- BIEU DO  -->
    <h3 class="title_chart" >THONG KE </h3> </h3>
    <div class="chart" id="display_chart">
        <canvas id="myChart" width="250" height="200"></canvas>
        <script>
            var canvasElement = document.getElementById("myChart");
            var rgb = [];
            var config = {
                type: "bar",
                data: {
                    labels: ["Green","White","Others"],
                    datasets:[
                        {
                        label:"Number of box", 
                        data:rgb,
                        backgroundColor:[
                            "rgba(255,99,132,0.7)",  //green
                            "rgba(75,192,192,0.7)",  //White
                            "rgba(192,192,75,0.7)",  //others
                        ],
                        borderColor:[
                            "rgba(255,99,132,1)",  //red
                            "rgba(75,192,192,1)",  //green
                            "rgba(192,192,75,1)",  //yellow
                        ],
                        borderWidth:1,
                        }
                    ],
                },
    
            };
    
            var myChart = new Chart(canvasElement,config);
            
        //laod data from database
        $(document).ready(function(){
            updateChart();
        });
        setInterval(updateChart,1000);
        function updateChart(){
            //gui request xuong db de lay data
            $.post('readData.php',function(data){
                rgb[0] = data[0].green;
                rgb[1] = data[0].white;
                rgb[2] = data[0].others;
                // console.log(data1);
                myChart.update();


            })
        }
        </script>
    </div >

    <!-- <div class="form-group">
        <button class="button" type="submit" onclick="publish_client2();">test</button>
    </div>    -->
    <form id="ax_test">
        <input hidden " name="bien_color" id="bien_color_id" >
        <input hidden name="bien_kl" id="bien_kl_id" >
    </form>

    <form hidden id="value_chart">
        <input name="green_chart" id="green_chart_id" >
        <input name="white_chart" id="white_chart_id" >
        <input name="others_chart" id="others_chart_id" >
    </form>
           
</body>
</html>